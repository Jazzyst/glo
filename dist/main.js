(()=>{"use strict";function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var t,n,r,o,a,c,i,l,u,s,d,m;s=document.querySelector("#timer-hours"),d=document.querySelector("#timer-minutes"),m=document.querySelector("#timer-seconds"),function e(){var t,n,r,o=(t=(new Date("21 march 2021").getTime()-(new Date).getTime())/1e3,n=Math.floor(t%60),r=Math.floor(t/60%60),{hours:Math.floor(t/60/60)%24,minutes:r,seconds:n,days:Math.floor(t/60/60/24),timeRemaining:t});s.textContent=o.hours>0?o.hours:"00",d.textContent=o.minutes>0?o.minutes:"00",m.textContent=o.seconds>0?o.seconds:"00",o.hours>0&&o.hours<10&&s.insertAdjacentText("afterbegin","0"),o.minutes>0&&o.minutes<10&&d.insertAdjacentText("afterbegin","0"),o.seconds>0&&o.seconds<10&&m.insertAdjacentText("afterbegin","0");var a=setInterval(e,1e3);o.timeRemaining<0&&clearInterval(a)}(),u=document.querySelector("menu"),document.querySelector("body").addEventListener("click",(function(e){var t=e.target;t.matches("ul>li>a")||t.classList.contains("close-btn")||t.closest(".menu")?u.classList.toggle("active-menu"):(t=t.closest("menu"))||u.classList.remove("active-menu")})),c=document.querySelector(".popup"),i=document.querySelectorAll(".popup-btn"),(l=document.querySelector(".popup-content")).style.transform="translateY(-500px)",i.forEach((function(e){return e.addEventListener("click",(function(){var e,t;c.style.display="block",document.documentElement.clientWidth>768?(t=-50,e=requestAnimationFrame((function n(){e=requestAnimationFrame(n),++t<0?l.style.transform="translateY(".concat(t,"px)"):cancelAnimationFrame(e)}))):l.style.transform="translateY(0)"}))})),c.addEventListener("click",(function(e){var t=e.target;t.classList.contains("popup-close")?c.style.display="none":(t=t.closest(".popup-content"))||(c.style.display="none")})),r=document.querySelector(".service-header"),o=r.querySelectorAll(".service-header-tab"),a=document.querySelectorAll(".service-tab"),r.addEventListener("click",(function(e){var t=e.target;(t=t.closest(".service-header-tab"))&&o.forEach((function(e,n){e===t&&function(e){for(var t=0;t<a.length;t++)e===t?(o[t].classList.add("active"),a[t].classList.remove("d-none")):(o[t].classList.remove("active"),a[t].classList.add("d-none"))}(n)}))})),function(){for(var e=document.querySelectorAll(".portfolio-item"),t=document.querySelector(".portfolio-content"),n=document.querySelector(".portfolio-dots"),r=0;r<e.length;r++){var o=document.createElement("li");o.classList.add("dot"),n.append(o)}var a=document.querySelectorAll(".dot");a[0].classList.add("dot-active");var c,i=0,l=function(e,t,n){e[t].classList.remove(n)},u=function(e,t,n){e[t].classList.add(n)},s=function(){l(e,i,"portfolio-item-active"),l(a,i,"dot-active"),++i>=e.length&&(i=0),u(e,i,"portfolio-item-active"),u(a,i,"dot-active")},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1500;c=setInterval(s,e)};t.addEventListener("click",(function(t){t.preventDefault();var n=t.target;n.matches(".portfolio-btn, .dot")&&(l(e,i,"portfolio-item-active"),l(a,i,"dot-active"),n.matches("#arrow-right")?i++:n.matches("#arrow-left")?i--:n.matches(".dot")&&a.forEach((function(e,t){e===n&&(i=t)})),i>=e.length&&(i=0),i<0&&(i=e.length-1),u(e,i,"portfolio-item-active"),u(a,i,"dot-active"))})),t.addEventListener("mouseover",(function(e){(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&clearInterval(c)})),t.addEventListener("mouseout",(function(e){(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&d()})),d(2e3)}(),document.querySelectorAll(".command__photo").forEach((function(e){var t=e.src;e.addEventListener("mouseenter",(function(e){e.target.src=e.target.dataset.img})),e.addEventListener("mouseleave",(function(e){e.target.src=t}))})),t=document.querySelector(".calc-block").querySelectorAll("input"),n=document.querySelector("body"),t.forEach((function(e){e.addEventListener("input",(function(){e.value=e.value.replace(/\D/g,"")}))})),n.addEventListener("input",(function(e){var t=e.target;t.matches("input[name=user_message]")&&(t.value=t.value.replace(/[^а-я\s\d-,.!?]/gi,"").replace(/\s+/g," ").replace(/\-+/g,"-").replace(/^-+|-+$/g,"").replace(/^\s/g,""),t.value=t.value.charAt(0).toUpperCase()+t.value.slice(1)),t.matches("input[name=user_name]")&&(t.value=t.value.replace(/[^а-я\s-]/gi,"").replace(/\s+/g," ").replace(/\-+/g,"-").replace(/^-+|-+$/g,"").replace(/^\s/g,""),t.value=t.value.toLowerCase().split(" ").map((function(e){if(""!==e)return e[0].toUpperCase()+e.substr(1)})).join(" ")),t.matches("input[name=user_email]")&&(t.value.match(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/)||t.value),t.matches("input[name=user_phone]")&&(t.value=t.value.replace(/^\+?[78]([-()]*\d){10}$/,"").replace(/\++/g,"+").replace(/^-+|-+$/g,"").trim())}),!0),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=document.querySelector(".calc-block"),n=document.querySelector(".calc-type"),r=document.querySelector(".calc-square"),o=document.querySelector(".calc-day"),a=document.querySelector(".calc-count"),c=document.getElementById("total"),i=function(){var t=0,i=1,l=1,u=n.options[n.selectedIndex].value,s=+r.value;u||(r.value="",a.value="",o.value=""),a.value>1&&(i+=(a.value-1)/10),o.value&&o.value<5?l*=2:o.value&&o.value<10&&(l*=1.5),u&&s&&(t=e*u*s*i*l),c.textContent=t.toFixed(2)};t.addEventListener("change",(function(e){var t=e.target;(t.matches("select")||t.matches("input"))&&i()}))}(100),function(){var t=document.querySelectorAll("form"),n=document.createElement("div");n.style.cssText="font-size:2rem",t.forEach((function(t){var o,a=(o=t.elements,function(t){if(Array.isArray(t))return e(t)}(o)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(o)||function(t,n){if(t){if("string"==typeof t)return e(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e(t,n):void 0}}(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).filter((function(e){return"BUTTON"!==e.tagName.toLowerCase()&&"submit"!==e.type}));a.forEach((function(e){return e.required=!0})),t.addEventListener("submit",(function(e){e.preventDefault(),t.append(n),n.textContent="Загрузка...";var o=new FormData(t),c={};o.forEach((function(e,t){c[t]=e}));var i=document.querySelector(".popup");r(c).then((function(e){if(200!==e.status)throw new Error("status network not 200");n.textContent="Спасибо! Мы скоро с Вами свяжемся!",setTimeout((function(){n.style.display="none"}),2e3),a.forEach((function(e){return e.value=""})),i&&(n.style.color="#ffffff",setTimeout((function(){i.style.display="none"}),2e3))})).catch((function(e){n.textContent="Что-то пошло не так...",console.log(e)}))}))}));var r=function(e){return fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}}()})();